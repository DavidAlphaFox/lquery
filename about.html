<!--
  This file is a part of lQuery
  (c) 2013 TymoonNET/NexT http://tymoon.eu (shinmera@tymoon.eu)
  Author: Nicolas Hafner <shinmera@tymoon.eu>
  !-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8"/>
    <title>lQuery - About</title>
    <style type="text/css">
      code{font-family: Consolas, Inconsolata, monospace;}
      h3{display: inline-block;margin:0;padding:0;}
      .version-diff{color:red;}
      .docs{list-style: none;}
      .docs li{margin-bottom: 20px;}
      .docs pre{margin: 0 0 0 10px; white-space: pre-wrap;}
    </style>
  </head>
  <body>
    <header>
      <img src="lquery-logo.png" alt="lQuery"/>
      <h1>v2.0.0</h1>
    </header>
    <div id="content">
      <article>
        <header><h2>What is lQuery?</h2></header>
        <p>
          lQuery is a DOM manipulation library written in Common Lisp, inspired by and based on the <a href="http://jquery.com/">jQuery</a> syntax and functions. It uses <a href="http://common-lisp.net/project/cxml/">Closure-XML</a> and <a href="https://github.com/AccelerationNet/css-selectors">CSS-Selectors</a> in the background to achieve its work. Its main idea is to replace HTML templating systems and allow generated HTML for websites while relying on pure HTML files. This achieves a much cleaner separation of static and dynamic page parts.
        </p>
      </article>
      <article>
        <header><h2>How To</h2></header>
        <p>
          Load lQuery with ASDF or Quicklisp.
        </p>
        <code>(ql:quickload :lquery)</code>
        <p>
          First, lQuery needs to be initialized with a document to work on:
        </p>
        <code>($ (initialize #p&amp;quot;/path/to/input.html&amp;quot;))</code>
        <p>
          After that, you can use the $ function to select and manipulate the DOM:
        </p>
        <code>($ &amp;quot;article&amp;quot;)</code><br/>
        <code>($ &amp;quot;article&amp;quot; (add-class &amp;quot;fancy&amp;quot;) (attr :foo &amp;quot;bar&amp;quot;))</code>
        <p>
          To render the HTML to a string use <code>serialize</code>. If you want to save it to a file directly, there's also <code>write-to-file</code>.
        </p>
        <code>($ (serialize))</code><br/>
        <code>($ (write-to-file #p&amp;quot;/path/to/output.html&amp;quot;))</code>
        <p>
          So a quick file manipulation could look something like this:
        </p>
        <code>($ (initialize #p&amp;quot;/path/to/input.html&amp;quot;) &amp;quot;article&amp;quot; (append-to &amp;quot;content&amp;quot;) (add-class &amp;quot;foo&amp;quot;) (write-to-file #p&amp;quot;/path/to/output.html&amp;quot;))</code>
        <p>
          Aside from using selectors as the first step, it's also possible to use any other variable or list and operate on it.
          <span class="version-diff">Since 2.0</span>: Literal function calls need to be added with (inline).
          Note that the result of the inline function will be used as if literally put in place. For example, an inlined function that evaluates
          to a string will result in a CSS-select.
        </p>
        <code>($ (inline (list node-a node-b)) &amp;quot;article&amp;quot; (serialize))</code>
        <p>
          Selectors can come at any point in the sequence of lQuery operations and will always act on the current set of elements.
          If an operation evaluates to a list or a single node, the current set of elements is set to this result.
        </p>
        <code>($ &amp;quot;a&amp;quot; (text &amp;quot;Link&amp;quot;) ($ &amp;quot;p&amp;quot;) (text &amp;quot;Paragraph&amp;quot;))</code>
        <p>
          This is equivalent to the following:
        </p>
        <code>($ &amp;quot;a&amp;quot; (text &amp;quot;Link&amp;quot;))</code><br/>
        <code>($ &amp;quot;p&amp;quot; (text &amp;quot;Paragraph&amp;quot;))</code>
        <p>
          While this sort of chaining is possible, it is discouraged and multiple statements should be used instead to ensure proper readability.
        </p>
        <p>
          Functions in the argument list will be translated to a function invocation with the current list of elements as their argument.
        </p>
        <code>($ &amp;quot;a&amp;quot; #'(lambda (els) (first els)))</code>
        <p>
          lQuery<sup class="version-diff">Since 2.0</sup> also supports compile-time evaluation of forms, whose results are then put in place of their function calls:
        </p>
        <code>($ (eval (format NIL &amp;quot;~a&amp;quot; *selector*)))</code>
        <p>
          Keep in mind that the lexical environment is not the same at compile-time as at run-time.
        </p>
      </article>
      <article>
        <header><h2>Extending lQuery <sup class="version-diff">For 2.0</sup></h2></header>
        <p>
          lQuery allows extension in a couple of ways. The most important of which are node operations themselves, which come in two flavours: node-funs and node-list-funs.
          Any node operation resides in the package :lquery-funcs, which is automatically scanned by the $ macro. The two macros responsible for defining new node functions automatically
          place the resulting operations in this package for you.
        </p>
        <code>(define-node-function name (node-name &amp;rest arguments) &amp;optional docstring &amp;body body)</code><br/>
        <code>(define-node-list-function name (list-name &amp;rest arguments) &amp;optional docstring &amp;body body)</code>
        <p>
          Any function generated by these macros can be called either with a single node or a list of nodes. In the case of a regular node operation, if it receives a list of nodes, the
          function is called once for each node and the results are collected into a list, which is then returned. If it receives a single node, only a single result is returned. In the
          case of a node list function, the return value can be either a list or a single value, depending on what the goal of the operation is.
        </p>
        <p>
          The $ macro itself can be extended as well by providing additional argument- or symbol-handlers. The following two macros make this possible:
        </p>
        <code>(define-argument-handler type (argsname nodesname) &amp;body body)</code>
        <p>
          Argument handlers transform the arguments at compile-time. For example, this would allow an extension to turn literal arrays into lists so they can be processed as well.
        </p>
        <code>(define-symbol-handler type (symbolname nodesname) &amp;body body)</code>
        <p>
          Symbol handlers on the other hand determine the action at run-time. This is mostly useful for defining special actions on certain variable values.
        </p>
      </article>
      <article>
        <header><h2>Other Guff</h2></header>
        <p>
          lQuery is a sub-project of TyNETv5 (&amp;quot;Radiance&amp;quot;), licensed under the <a href="http://opensource.org/licenses/Artistic-2.0">Artistic License 2.0</a> and Â©2013 TymoonNET/NexT, <a href="http://shinmera.com">Nicolas Hafner</a>.<br/>
          This library can be obtained via git on <a href="https://github.com/Shinmera/lquery.git">https://github.com/Shinmera/lquery.git</a>. For questions, patches or suggestions, please contact me via <a href="mailto:shinmera@tymoon.eu">email</a> or write a <a href="https://github.com/Shinmera/lquery/issues">github issue</a>.
        </p>
      </article>
      <article>
        <header><h2>lQuery Package Function Index</h2></header>
        <ul id="docs" class="docs"><li id="template">
            <a name="$" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL MACRO</span>
                <code>
                  <h3 class="funcname">$</h3>
                  <span class="funcargs">(&amp;BODY ACTIONS)</span>
                </code>
              </header>
              <pre class="funcdesc">Performs lQuery operations on the current document.

Each argument is executed in sequence. The arguments are evaluated according to the defined argument-handlers. By default, the following cases are handled: 
  * STRING    Translates to a CLSS:QUERY on the current elements.
  * LIST      What lists translate to is determined by their first element:
    * EVAL      The second value of the list is evaluated at compile-time and the result is inlined as if it had been there as a standard argument to $.
    * INLINE    The second value of the list is put in place and its run-time evaluation result will be handled as if by symbol. See the symbol-handlers for more information.
    * NODEFUN   If the symbol name is a node function, it is translated into a nodefun-call with the list of nodes as first argument and the other elements in the call-list as extra arguments.
    * T         Otherwise this list will be transformed into a regular function call with the current list of nodes as first argument and the other elements in the call-list as extra arguments.
  * FUNCTION  Translates to a function call with the list of nodes as argument.
  * SYMBOL    Delegates to the symbol handlers.

Symbols/Variables are handled at runtime (where they have a value) according to the defined symbol-handlers. By default, the following cases are handled at run time:
  * STRING    Performs a CLSS:QUERY on the current elements.
  * DOM:NODE  Replaces the current set of nodes with just this node.  
  * FUNCTION  Calls the given function with the current set of nodes as argument.
  * T         Any other value simply replaces the current list of nodes.

Additional argument and symbol handlers can be defined with define-argument-handler and define-symbol-handler, respectively.</pre>
            </article>
          </li><li id="template">
            <a name="*LQUERY-MASTER-DOCUMENT*" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL SPECIAL</span>
                <code>
                  <h3 class="funcname">*LQUERY-MASTER-DOCUMENT*</h3>
                  <span class="funcargs"></span>
                </code>
              </header>
              <pre class="funcdesc"></pre>
            </article>
          </li><li id="template">
            <a name="DEFINE-ARGUMENT-HANDLER" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL MACRO</span>
                <code>
                  <h3 class="funcname">DEFINE-ARGUMENT-HANDLER</h3>
                  <span class="funcargs">(TYPE (ARGNAME NODESNAME) &amp;BODY BODY)</span>
                </code>
              </header>
              <pre class="funcdesc">Defines a new argument handler that decides what to do with a certain type of argument at compile-time (static type).</pre>
            </article>
          </li><li id="template">
            <a name="DEFINE-NODE-FUNCTION" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL MACRO</span>
                <code>
                  <h3 class="funcname">DEFINE-NODE-FUNCTION</h3>
                  <span class="funcargs">(NAME (NODE-NAME &amp;REST ARGUMENTS) &amp;OPTIONAL DOCSTRING &amp;BODY BODY)</span>
                </code>
              </header>
              <pre class="funcdesc">Defines a new node function. This is the main mechanism by which node manipulations are defined.
All node functions are automatically created in the lquery-funcs package.</pre>
            </article>
          </li><li id="template">
            <a name="DEFINE-NODE-LIST-FUNCTION" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL MACRO</span>
                <code>
                  <h3 class="funcname">DEFINE-NODE-LIST-FUNCTION</h3>
                  <span class="funcargs">(NAME (LIST-NAME &amp;REST ARGUMENTS) &amp;OPTIONAL DOCSTRING &amp;BODY BODY)</span>
                </code>
              </header>
              <pre class="funcdesc">Defines a new function that operates on the current node array instead of individual elements.
All node list functions are automatically created in the lquery-funcs package.</pre>
            </article>
          </li><li id="template">
            <a name="DEFINE-SYMBOL-HANDLER" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL MACRO</span>
                <code>
                  <h3 class="funcname">DEFINE-SYMBOL-HANDLER</h3>
                  <span class="funcargs">(TYPE (SYMBOLNAME NODESNAME) &amp;BODY BODY)</span>
                </code>
              </header>
              <pre class="funcdesc">Defines a new symbol handler that decides what to do with a certain type of symbol at run-time (variable type).</pre>
            </article>
          </li><li id="template">
            <a name="INITIALIZE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">INITIALIZE</h3>
                  <span class="funcargs">(DOCUMENT)</span>
                </code>
              </header>
              <pre class="funcdesc">Sets the *lquery-master-document* variable to the provided document.</pre>
            </article>
          </li><li id="template">
            <a name="LOAD-PAGE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">LOAD-PAGE</h3>
                  <span class="funcargs">(FILE-OR-STRING)</span>
                </code>
              </header>
              <pre class="funcdesc">Load the given file or string into a HTML DOM.</pre>
            </article>
          </li><li id="template">
            <a name="PARSE-HTML" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">PARSE-HTML</h3>
                  <span class="funcargs">(HTML)</span>
                </code>
              </header>
              <pre class="funcdesc">Build the given string into DOM objects related to the master document.</pre>
            </article>
          </li></ul>
      </article>
      <article>
        <header><h2>lQuery-Funcs Package Function Index</h2></header>
        <ul id="func-docs" class="docs"><li id="template">
            <a name="NODEFUN-ADD" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-ADD</h3>
                  <span class="funcargs">(WORKING-NODES SELECTOR-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Add elements to the set of matched elements.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-ADD-CLASS" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-ADD-CLASS</h3>
                  <span class="funcargs">(NODE &amp;REST CLASSES)</span>
                </code>
              </header>
              <pre class="funcdesc">Adds the specified class(es) to the set of matched elements.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-AFTER" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-AFTER</h3>
                  <span class="funcargs">(NODES HTML-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Insert content (in html-string or node-list form) after each element.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-ANCESTOR" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-ANCESTOR</h3>
                  <span class="funcargs">(WORKING-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Find the common ancestor of all elements.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-APPEND" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-APPEND</h3>
                  <span class="funcargs">(NODES HTML-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Insert content (in html-string or node-list form) to the end of each element.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-APPEND-TO" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-APPEND-TO</h3>
                  <span class="funcargs">(WORKING-NODES SELECTOR-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Insert every element to the end of the target(s).</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-ATTR" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-ATTR</h3>
                  <span class="funcargs">(NODE &amp;REST PAIRS)</span>
                </code>
              </header>
              <pre class="funcdesc">Retrieve or set attributes on a node</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-BEFORE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-BEFORE</h3>
                  <span class="funcargs">(NODES HTML-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Insert content (in html-string or node-list form) before each element.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-CHILD-INDEX" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-CHILD-INDEX</h3>
                  <span class="funcargs">(NODE)</span>
                </code>
              </header>
              <pre class="funcdesc">Returns the index of the element within its parent, also counting text nodes. See index() otherwise.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-CHILDREN" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-CHILDREN</h3>
                  <span class="funcargs">(NODES &amp;OPTIONAL SELECTOR)</span>
                </code>
              </header>
              <pre class="funcdesc">Get the children of each element, optionally filtered by a selector.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-CLONE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-CLONE</h3>
                  <span class="funcargs">(NODE)</span>
                </code>
              </header>
              <pre class="funcdesc">Create a deep copy of the set of matched elements.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-CLOSEST" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-CLOSEST</h3>
                  <span class="funcargs">(NODE SELECTOR)</span>
                </code>
              </header>
              <pre class="funcdesc">For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.
If no matching element can be found the root is entered instead.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-CONTAINS" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-CONTAINS</h3>
                  <span class="funcargs">(NODES STRING)</span>
                </code>
              </header>
              <pre class="funcdesc">Select all elements that contain the specified text.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-CONTENTS" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-CONTENTS</h3>
                  <span class="funcargs">(NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Get the children of each element, including text and comment nodes.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-CSS" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-CSS</h3>
                  <span class="funcargs">(NODE &amp;REST PAIRS)</span>
                </code>
              </header>
              <pre class="funcdesc">Retrieve or set css style attributes on a node.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-DATA" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-DATA</h3>
                  <span class="funcargs">(NODE &amp;REST PAIRS)</span>
                </code>
              </header>
              <pre class="funcdesc">Retrieve or set data attributes on a node. This is a convenience method and uses attr in the back.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-DEEPEST" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-DEEPEST</h3>
                  <span class="funcargs">(NODE)</span>
                </code>
              </header>
              <pre class="funcdesc">Returns the innermost (left-bound) child element.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-EACH" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-EACH</h3>
                  <span class="funcargs">(NODES FUN &amp;KEY REPLACE)</span>
                </code>
              </header>
              <pre class="funcdesc">Execute the specified function on each element until NIL is returned or all elements have been processed. The original set of elements is returned if replace is NIL.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-EMPTY" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-EMPTY</h3>
                  <span class="funcargs">(NODE)</span>
                </code>
              </header>
              <pre class="funcdesc">Remove all child nodes from the set of matched elements.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-EQ" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-EQ</h3>
                  <span class="funcargs">(WORKING-NODES INDEX)</span>
                </code>
              </header>
              <pre class="funcdesc">Reduce the set of matched elements to the one at the specified index</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-EVEN" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-EVEN</h3>
                  <span class="funcargs">(WORKING-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Selects even elements, 1-indexed</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-FILTER" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-FILTER</h3>
                  <span class="funcargs">(NODES SELECTOR-OR-FUNCTION)</span>
                </code>
              </header>
              <pre class="funcdesc">Reduce the set of matched elements to those that match the selector or pass the function's test.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-FIND" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-FIND</h3>
                  <span class="funcargs">(NODES SELECTOR-OR-FUNCTION &amp;KEY (TEST-SELF NIL))</span>
                </code>
              </header>
              <pre class="funcdesc">Get the descendants of each element filtered by selector or function.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-FIRST" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-FIRST</h3>
                  <span class="funcargs">(WORKING-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Reduce the set of matched elements to the first in the set.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-GT" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-GT</h3>
                  <span class="funcargs">(WORKING-NODES INDEX)</span>
                </code>
              </header>
              <pre class="funcdesc">Select all elements at a greater than index(0) within the matched set.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-HAS" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-HAS</h3>
                  <span class="funcargs">(NODES SELECTOR-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Reduce the set of matched elements to those that have a descendant that matches the selector or element.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-HAS-CLASS" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-HAS-CLASS</h3>
                  <span class="funcargs">(WORKING-NODES CLASS)</span>
                </code>
              </header>
              <pre class="funcdesc">Determine whether any of the matched elements are assigned to the given class.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-HIDE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-HIDE</h3>
                  <span class="funcargs">(WORKING-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Hide the matched elements (short for (css &amp;quot;display&amp;quot; &amp;quot;none&amp;quot;)).</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-HTML" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-HTML</h3>
                  <span class="funcargs">(NODE &amp;OPTIONAL NEW-CONTENT)</span>
                </code>
              </header>
              <pre class="funcdesc">Get the HTML contents of the elements or set the HTML contents of every matched element.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-HTML-FILE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-HTML-FILE</h3>
                  <span class="funcargs">(WORKING-NODES PATHNAME)</span>
                </code>
              </header>
              <pre class="funcdesc">Read an HTML file and insert its contents into each element.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-INDEX" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-INDEX</h3>
                  <span class="funcargs">(NODE)</span>
                </code>
              </header>
              <pre class="funcdesc">Find the index of the node within its parent.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-INITIALIZE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-INITIALIZE</h3>
                  <span class="funcargs">(WORKING-NODES DOCUMENT)</span>
                </code>
              </header>
              <pre class="funcdesc">Re-initializes lQuery with a new page.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-INSERT-AFTER" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-INSERT-AFTER</h3>
                  <span class="funcargs">(WORKING-NODES SELECTOR-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Insert every element after the target.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-INSERT-BEFORE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-INSERT-BEFORE</h3>
                  <span class="funcargs">(WORKING-NODES SELECTOR-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Insert every element before the target.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-IS" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-IS</h3>
                  <span class="funcargs">(WORKING-NODES SELECTOR-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Check the current elements against a selector or list of elements and return true if at least one of them matches.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-IS-EMPTY" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-IS-EMPTY</h3>
                  <span class="funcargs">(NODE)</span>
                </code>
              </header>
              <pre class="funcdesc">Check if the node contains no children and/or only empty (whitespace) text nodes. If it is empty, T is returned, otherwise NIL.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-LAST" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-LAST</h3>
                  <span class="funcargs">(WORKING-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Reduce the set of matched elements to the final one in the set.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-LENGTH" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-LENGTH</h3>
                  <span class="funcargs">(WORKING-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Returns the number of elements in the list.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-LT" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-LT</h3>
                  <span class="funcargs">(WORKING-NODES INDEX)</span>
                </code>
              </header>
              <pre class="funcdesc">Select all elements at an index less than the index within the matched set.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-MAP" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-MAP</h3>
                  <span class="funcargs">(WORKING-NODES FUNCTION)</span>
                </code>
              </header>
              <pre class="funcdesc">Pass each element through a function (which has to accept one argument, the node), returning the list of all results.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-NEXT" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-NEXT</h3>
                  <span class="funcargs">(NODES &amp;OPTIONAL SELECTOR)</span>
                </code>
              </header>
              <pre class="funcdesc">Get the immediately following sibling of each element (if there is one). If a selector is provided, the sibling is only included if it matches.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-NEXT-ALL" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-NEXT-ALL</h3>
                  <span class="funcargs">(NODES &amp;OPTIONAL SELECTOR)</span>
                </code>
              </header>
              <pre class="funcdesc">Get all following siblings of each element. If a selector is provided, the sibling is only included if it matches.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-NEXT-UNTIL" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-NEXT-UNTIL</h3>
                  <span class="funcargs">(NODES SELECTOR-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Get all following silings of each element up to (excluding) the element matched by the selector or node list.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-NODE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-NODE</h3>
                  <span class="funcargs">(WORKING-NODES &amp;OPTIONAL (N 0))</span>
                </code>
              </header>
              <pre class="funcdesc">Return the specified node (default first) directly, without encompassing it into a list.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-NOT" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-NOT</h3>
                  <span class="funcargs">(WORKING-NODES SELECTOR-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Remove matching elements from the working elements.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-NOT-EMPTY" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-NOT-EMPTY</h3>
                  <span class="funcargs">(NODE)</span>
                </code>
              </header>
              <pre class="funcdesc">Check if the node contains no children and/or only empty (whitespace) text nodes. If the node is effectively empty NIL is returned, otherwise T</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-ODD" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-ODD</h3>
                  <span class="funcargs">(WORKING-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Select all odd elements from the current set, 1-indexed.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-PARENT" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-PARENT</h3>
                  <span class="funcargs">(NODES &amp;OPTIONAL SELECTOR)</span>
                </code>
              </header>
              <pre class="funcdesc">Get the parent of each element, optionally filtered by a selector.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-PARENTS" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-PARENTS</h3>
                  <span class="funcargs">(NODES &amp;OPTIONAL SELECTOR)</span>
                </code>
              </header>
              <pre class="funcdesc">Get the ancestors of each element, optionally filtered by a selector. Closest parent first.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-PARENTS-UNTIL" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-PARENTS-UNTIL</h3>
                  <span class="funcargs">(NODES SELECTOR-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Get the ancestors of each element, up to (excluding) the element matched by the selector or node list. Closest parent first</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-PREPEND" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-PREPEND</h3>
                  <span class="funcargs">(NODES HTML-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Insert content, specified by the parameter, to the beginning of each element.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-PREPEND-TO" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-PREPEND-TO</h3>
                  <span class="funcargs">(WORKING-NODES SELECTOR-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Insert every element to the beginning of the target(s).</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-PREV" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-PREV</h3>
                  <span class="funcargs">(NODES &amp;OPTIONAL SELECTOR)</span>
                </code>
              </header>
              <pre class="funcdesc">Get the immediately preceding sibling of each element (if there is one). If a selector is provided, the sibling is only included if it matches.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-PREV-ALL" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-PREV-ALL</h3>
                  <span class="funcargs">(NODES &amp;OPTIONAL SELECTOR)</span>
                </code>
              </header>
              <pre class="funcdesc">Get all preceeding siblings of each element. If a selector is provided, the sibling is only included if it matches.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-PREV-UNTIL" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-PREV-UNTIL</h3>
                  <span class="funcargs">(NODES SELECTOR-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Get all preceeding silings of each element down to (excluding) the element matched by the selector or node list.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-REMOVE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-REMOVE</h3>
                  <span class="funcargs">(NODE &amp;OPTIONAL SELECTOR)</span>
                </code>
              </header>
              <pre class="funcdesc">Remove the set of matched elements from the DOM.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-REMOVE-ATTR" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-REMOVE-ATTR</h3>
                  <span class="funcargs">(NODE &amp;REST ATTRIBUTES)</span>
                </code>
              </header>
              <pre class="funcdesc">Remove attributes from each element.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-REMOVE-CLASS" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-REMOVE-CLASS</h3>
                  <span class="funcargs">(NODE &amp;REST CLASSES)</span>
                </code>
              </header>
              <pre class="funcdesc">Remove classes from each element.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-REMOVE-DATA" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-REMOVE-DATA</h3>
                  <span class="funcargs">(NODE &amp;REST DATA)</span>
                </code>
              </header>
              <pre class="funcdesc">Remove data attributes from each element. This is a convenience method and uses remove-attr in the back.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-REPLACE-ALL" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-REPLACE-ALL</h3>
                  <span class="funcargs">(WORKING-NODES SELECTOR-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Replace each in the set of matched elements with the current nodes.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-REPLACE-WITH" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-REPLACE-WITH</h3>
                  <span class="funcargs">(WORKING-NODES HTML-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Replace each element with the provided new content and return the set of elements that was removed.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-SERIALIZE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-SERIALIZE</h3>
                  <span class="funcargs">(NODE &amp;OPTIONAL (STREAM NIL))</span>
                </code>
              </header>
              <pre class="funcdesc">Serialize the node into a string.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-SHOW" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-SHOW</h3>
                  <span class="funcargs">(WORKING-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Display the matched elements (short for (css :display 'block'))</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-SIBLINGS" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-SIBLINGS</h3>
                  <span class="funcargs">(NODES &amp;OPTIONAL SELECTOR)</span>
                </code>
              </header>
              <pre class="funcdesc">Get the siblings of each element, optionally filtered by a selector.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-SIZE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-SIZE</h3>
                  <span class="funcargs">(WORKING-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Return the number of elements in the list.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-SLICE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-SLICE</h3>
                  <span class="funcargs">(WORKING-NODES START &amp;OPTIONAL END)</span>
                </code>
              </header>
              <pre class="funcdesc">Reduce the set of matched elements to a subset specified by a range of indices</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-TEXT" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-TEXT</h3>
                  <span class="funcargs">(NODE &amp;OPTIONAL (TEXT NIL T-S-P))</span>
                </code>
              </header>
              <pre class="funcdesc">Get the combined text contents of each element, including their descendants. If text is set, all text nodes are removed and a new text node is appended to the end of the node. If text is NIL, all direct text nodes are removed from the node.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-TOGGLE-CLASS" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-TOGGLE-CLASS</h3>
                  <span class="funcargs">(NODE &amp;REST CLASSES)</span>
                </code>
              </header>
              <pre class="funcdesc">Add or remove one or more classes from each element, depending on their presence within the element.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-UNWRAP" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-UNWRAP</h3>
                  <span class="funcargs">(NODE)</span>
                </code>
              </header>
              <pre class="funcdesc">Remove the parents of the set of matched elements from the DOM, inserting the parents children in place of it.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-VAL" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-VAL</h3>
                  <span class="funcargs">(NODE &amp;OPTIONAL (VALUE NIL V-P))</span>
                </code>
              </header>
              <pre class="funcdesc">Get the current values or set the value of every matched element.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-WRAP" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-WRAP</h3>
                  <span class="funcargs">(NODES HTML-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Wrap an HTML structure around each element. Note that always the first node of the structure to wrap is chosen.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-WRAP-ALL" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-WRAP-ALL</h3>
                  <span class="funcargs">(WORKING-NODES HTML-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Wrap an HTML structure around all elements and put it in place of the first element, removing all other elements from their position.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-WRAP-INNER" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-WRAP-INNER</h3>
                  <span class="funcargs">(NODES HTML-OR-NODES)</span>
                </code>
              </header>
              <pre class="funcdesc">Wrap an HTML structure around the contents of each element.</pre>
            </article>
          </li><li id="template">
            <a name="NODEFUN-WRITE-TO-FILE" class="anchor"/>
            <article>
              <header>
                <span class="functype">EXTERNAL FUNCTION</span>
                <code>
                  <h3 class="funcname">NODEFUN-WRITE-TO-FILE</h3>
                  <span class="funcargs">(WORKING-NODES FILE &amp;KEY (IF-DOES-NOT-EXIST CREATE) (IF-EXISTS SUPERSEDE))</span>
                </code>
              </header>
              <pre class="funcdesc">Write the serialized node to the file. Note that always only the first element is written.</pre>
            </article>
          </li></ul>
      </article>
    </div>
  </body>
</html>
